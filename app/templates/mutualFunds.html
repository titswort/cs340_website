{% extends "base.html" %}
{% import 'bootstrap/wtf.html' as wtf %}

{% block content %}

<div class="container">
    {% with messages = get_flashed_messages() %}
    {% if messages %}
        {% for message in messages %}
        <div class="alert alert-info" role="alert">{{ message }}</div>
        {% endfor %}
    {% endif %}
    {% endwith %}

    {# application content needs to be provided in the app_content block #}
    {% block app_content %}{% endblock %}
</div>

<div class="table-responsive" >
<table class="table">
    <thead>
        <tr>
            <th>  ID  </th>
            <th>  name  </th>
            <th>  dollars  </th>
            <th>  total_mf_sector  </th>
            <th>  portfolio id  </th>
            <th>  Edit/Delete  </th>
            <th>  Stocks  </th>
        </tr>
    </thead>
    <tbody>
        {% if data%} 
        {% for row in results %}
            <tr>
                <td>{{  row.id  }}</td>
                <td>{{  row.name  }}</td>
                <td>${{  row.dollars  }}</td>
                <td>{{  row.total_mf_sector  }}%</td>
                <td> {{  row.portfolio_id  }} </td>
                <td>
                    <a href="{{url_for('editMutualFunds', id=row.id)}}">
                        <button type="button">  Edit  </button></a>
                    <a href="{{url_for('deleteMutualFunds', id=row.id)}}">
                        <button type="button">  Delete  </button></a>
                </td>
                <td>
                    <a href="{{url_for('viewHoldings', id=row.id)}}">
                        <button type="button">View</button></a>
                    <a href="{{url_for('addHoldings', id=row.id)}}">
                        <button type="button">Add</button></a>
                </td>
            </tr>
        {% endfor %}
        {% endif %}
    </tbody>
</table>
</div>

{% if view %}
<div class="table-responsive" >
    <table class="table">
        <thead>
            <tr>
                <th>  ID  </th>
                <th>  ticker symbol  </th>
                <th>  legal name  </th>
                <th>  total shares  </th>
                <th>  current price  </th>
            </tr>
        </thead>
        <tbody>
            {% if data %} 
            {% for row in Mresults %}
                <tr>
                    <td>{{  row.id  }}</td>
                    <td>{{  row.ticket_symbol  }}</td>
                    <td>${{  row.legal_name  }}</td>
                    <td>{{  row.total_shares  }}%</td>
                    <td>{{  row.current_price  }}%</td>
                </tr>
            {% endfor %}
            {% endif %}
        </tbody>
    </table>
</div>
{% endif %}

{% if grow%}
<h3>Add Mutual Funds</h3>
<div class="row">
    <div class="col-md-4">
        {{ wtf.quick_form(add_form) }}
    </div>
</div>
{% endif %}

{% endblock %}